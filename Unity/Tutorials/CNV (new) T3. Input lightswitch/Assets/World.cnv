module Game

open "UnityEngine.dll"
open UnityEngine

worldEntity World = {
  inherit UnityCube
  Factor : float32
       
  rule Factor = 
    wait Input.GetKeyDown(KeyCode.Space) 
    while (Factor < 1.0f) do
      yield Factor + dt
    wait Input.GetKeyDown(KeyCode.Space)
    while (Factor > 0.0f) do
      yield Factor - dt
    wait 1.0f

  rule Color = 
    Color.Lerp(Color.white, Color.blue, Factor)

  Create() = 
    {
      Base    = UnityCube.Find()
      Factor  = 0.0f
    }
}
 